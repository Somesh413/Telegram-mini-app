<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Wow Earning</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-red: #e74c3c; --dark-red: #c0392b; --light-red-bg: #fdedec;
            --text-dark: #2c3e50; --text-light: #7f8c8d; --bg-color: #f4f6f9;
            --card-bg: #ffffff; --border-color: #e5e7eb;
        }
        body { margin: 0; font-family: 'Poppins', sans-serif; background-color: var(--bg-color); color: var(--text-dark); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        .app-header { display: flex; justify-content: space-between; align-items: center; padding: 0 20px; height: 60px; background-color: var(--card-bg); border-bottom: 1px solid var(--border-color); flex-shrink: 0; }
        .app-header .logo { font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 22px; color: var(--primary-red); }
        .wallet-balance { display: flex; align-items: center; gap: 8px; background-color: var(--light-red-bg); padding: 8px 15px; border-radius: 20px; font-weight: 600; color: var(--dark-red); font-size: 14px; }
        main { flex-grow: 1; overflow-y: auto; padding: 20px; }
        .app-section { display: none; }
        .app-section.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .section-title { font-family: 'Montserrat', sans-serif; font-size: 20px; font-weight: 700; margin: 0 0 20px 0; }
        .app-button { background-color: var(--primary-red); color: white; border: none; padding: 15px; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; width: 100%; margin-top: 20px; font-family: 'Montserrat', sans-serif; }
        .offer-card { background: linear-gradient(135deg, var(--primary-red) 0%, var(--dark-red) 100%); border-radius: 15px; padding: 20px; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; color: white; }
        .offer-card .info { display: flex; align-items: center; gap: 15px; }
        .offer-card .info img { width: 50px; height: 50px; border-radius: 12px; border: 2px solid white; }
        .offer-card .info .name { font-weight: 600; font-size: 16px; }
        .wheel-container { position: relative; width: 280px; height: 280px; margin: 20px auto; }
        #wheel { width: 100%; height: 100%; border-radius: 50%; background: conic-gradient(#c0392b 0% 10%, #e74c3c 10% 20%, #c0392b 20% 30%, #e74c3c 30% 40%, #c0392b 40% 50%, #e74c3c 50% 60%, #c0392b 60% 70%, #e74c3c 70% 80%, #c0392b 80% 90%, #e74c3c 90% 100%); position: relative; transition: transform 6s cubic-bezier(0.1, 0.7, 0.3, 1); display: flex; align-items: center; justify-content: center; border: 8px solid white; box-shadow: 0 0 25px rgba(0,0,0,0.1); }
        .pointer { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-bottom: 35px solid #34495e; z-index: 10; }
        .refer-card { background: var(--light-red-bg); padding: 30px; border-radius: 15px; text-align: center; border: 2px dashed var(--primary-red); }
        .refer-code { font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 800; margin: 15px 0; color: var(--dark-red); }
        .redeem-store { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .redeem-option { background-color: var(--card-bg); padding: 20px 15px; border-radius: 12px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05); cursor: pointer; }
        .redeem-option img { width: 50px; height: 50px; object-fit: contain; margin-bottom: 12px; }
        .bottom-nav { display: flex; justify-content: space-around; background-color: var(--card-bg); padding: 10px 0; border-top: 1px solid var(--border-color); flex-shrink: 0; height: 70px; box-sizing: border-box; }
        .nav-btn { background: none; border: none; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 4px; font-size: 12px; color: var(--text-light); flex: 1; }
        .nav-btn.active { color: var(--primary-red); font-weight: 600; }
        .nav-btn svg { width: 24px; height: 24px; fill: currentColor; }
    </style>
</head>
<body>
    <header class="app-header">
        <div class="logo">Wow Earning</div>
        <div class="wallet-balance">
            <span>ðŸ’°</span> <span id="wallet-amount">0.00</span>
        </div>
    </header>

    <main>
        <section id="home" class="app-section"><h2 class="section-title">Featured Offers</h2><div id="offer-list"></div></section>
        <section id="spin" class="app-section"><h2 class="section-title">Spin and Win</h2><div class="wheel-container"><div class="pointer"></div><div id="wheel"></div></div><button id="spin-btn" class="app-button">SPIN NOW!</button></section>
        <section id="refer" class="app-section"><h2 class="section-title">Invite & Earn</h2><div class="refer-card"><p>Share your code and earn!</p><div id="referral-code" class="refer-code">WOW50</div><button id="copy-code-btn" class="app-button" style="width:auto; padding: 10px 30px; font-size:16px;">Copy Code</button></div></section>
        <section id="wallet" class="app-section"><h2 class="section-title">Redeem Rewards</h2><div id="redeem-store" class="redeem-store"></div></section>
    </main>

    <nav class="bottom-nav">
        <button class="nav-btn" data-section="home"><svg viewBox="0 0 24 24"><path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"/></svg><span>Home</span></button>
        <button class="nav-btn" data-section="spin"><svg viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,10.84 21.79,9.72 21.4,8.68L22,8L20,4L16,6L16.5,6.5C15.42,5.55 13.79,5 12,5A7,7 0 0,0 5,12A7,7 0 0,0 12,19A7,7 0 0,0 19,12C19,11.5 18.93,11 18.82,10.53L20.25,9.63C20.72,10.33 21,11.14 21,12A9,9 0 0,1 12,21A9,9 0 0,1 3,12A9,9 0 0,1 12,3C13.54,3 15,3.43 16.23,4.17L17.62,2.78C16,1.66 14.07,1 12,1Z"/></svg><span>Spin</span></button>
        <button class="nav-btn" data-section="refer"><svg viewBox="0 0 24 24"><path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M1,18V20H5V18C5,15.33 3.67,14 1,14M1,12A3,3 0 0,1 4,9A3,3 0 0,1 1,6A3,3 0 0,1 -2,9A3,3 0 0,1 1,12M15,12A3,3 0 0,1 18,9A3,3 0 0,1 15,6A3,3 0 0,1 12,9A3,3 0 0,1 15,12Z" transform="translate(1, 1)"/></svg><span>Refer</span></button>
        <button class="nav-btn" data-section="wallet"><svg viewBox="0 0 24 24"><path d="M20,6H4V4H20V6M20,18H4V12H20V18M21,10H3V20H21V10M17,15H7V13H17V15Z"/></svg><span>Wallet</span></button>
    </nav>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- APP DATA ---
    const appState = {
        coins: 7.08,
        offers: [
            { name: "Angel One", icon: "https://i.imgur.com/your-image.png", reward: 1425 },
            { name: "Mobikwik", icon: "https://i.imgur.com/your-image.png", reward: 570 },
        ],
        redeemOptions: [
            { name: "Instant UPI", icon: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/2560px-UPI-Logo-vector.svg.png"},
            { name: "Google Play", icon: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Google_Play_logo_2022.svg/1280px-Google_Play_logo_2022.svg.png"},
        ]
    };

    // --- ELEMENT SELECTORS ---
    const elements = {
        walletAmount: document.getElementById('wallet-amount'),
        sections: document.querySelectorAll('.app-section'),
        navButtons: document.querySelectorAll('.nav-btn'),
        offerList: document.getElementById('offer-list'),
        redeemStore: document.getElementById('redeem-store'),
        copyCodeBtn: document.getElementById('copy-code-btn')
    };

    // --- CORE FUNCTIONS ---

    function switchSection(sectionId) {
        // Defensive Check: Ensure sections exist
        if (elements.sections.length === 0) return;

        elements.sections.forEach(section => {
            section.classList.toggle('active', section.id === sectionId);
        });
        elements.navButtons.forEach(button => {
            button.classList.toggle('active', button.dataset.section === sectionId);
        });
    }

    function renderOffers() {
        // Defensive Check: Ensure the container element exists
        if (!elements.offerList) return;

        let offersHTML = '';
        appState.offers.forEach(offer => {
            offersHTML += `
                <div class="offer-card">
                    <div class="info"><img src="${offer.icon}" alt="">
                        <div class="name">${offer.name}</div>
                    </div>
                </div>`;
        });
        elements.offerList.innerHTML = offersHTML;
    }

    function renderRedeemOptions() {
        // Defensive Check: Ensure the container element exists
        if (!elements.redeemStore) return;

        let redeemHTML = '';
        appState.redeemOptions.forEach(option => {
            redeemHTML += `
                <div class="redeem-option">
                    <img src="${option.icon}" alt="">
                    <div>${option.name}</div>
                </div>`;
        });
        elements.redeemStore.innerHTML = redeemHTML;
    }

    function updateWallet() {
        // Defensive Check: Ensure the wallet element exists
        if (elements.walletAmount) {
            elements.walletAmount.textContent = appState.coins.toFixed(2);
        }
    }


    // --- INITIALIZE THE APP ---
    try {
        // Setup navigation
        elements.navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const sectionId = button.dataset.section;
                if (sectionId) {
                    switchSection(sectionId);
                }
            });
        });

        // Setup other buttons
        if(elements.copyCodeBtn) {
            elements.copyCodeBtn.addEventListener('click', () => {
                navigator.clipboard.writeText('WOW50')
                    .then(() => alert('Code Copied!'))
                    .catch(() => alert('Failed to copy code.'));
            });
        }

        // Render initial content
        updateWallet();
        renderOffers();
        renderRedeemOptions();

        // Show the first section
        switchSection('home');

    } catch (error) {
        // If anything fails, show an alert with the error
        // This is a last resort if the remote inspector doesn't work
        alert('An error occurred: ' + error.message);
    }
});
</script>
</body>
  </html>
  
